{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"src/app/services/data.service\";\nimport * as i3 from \"@angular/common\";\nfunction ResultComponent_div_0_li_19_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const skill_r6 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(skill_r6);\n  }\n}\nfunction ResultComponent_div_0_li_23_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const skill_r7 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(skill_r7);\n  }\n}\nfunction ResultComponent_div_0_li_28_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const course_r8 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(course_r8);\n  }\n}\nfunction ResultComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r10 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 2)(1, \"h2\");\n    i0.ɵɵtext(2, \"\\u0646\\u062A\\u064A\\u062C\\u062A\\u0643 \\uD83C\\uDFAF\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 3)(4, \"h3\");\n    i0.ɵɵtext(5, \"\\u0627\\u0644\\u062A\\u062E\\u0635\\u0635 \\u0627\\u0644\\u0623\\u0646\\u0633\\u0628 \\u0644\\u0643 \\u0647\\u0648:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"h2\", 4);\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"div\", 5)(9, \"p\");\n    i0.ɵɵtext(10, \"\\u0646\\u0633\\u0628\\u0629 \\u0627\\u0644\\u062A\\u0648\\u0627\\u0641\\u0642: \");\n    i0.ɵɵelementStart(11, \"strong\");\n    i0.ɵɵtext(12);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(13, \"div\", 6);\n    i0.ɵɵelement(14, \"div\", 7);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(15, \"div\", 8)(16, \"h4\");\n    i0.ɵɵtext(17, \"\\uD83E\\uDDE0 \\u0627\\u0644\\u0645\\u0647\\u0627\\u0631\\u0627\\u062A \\u0627\\u0644\\u062A\\u064A \\u062A\\u062A\\u0642\\u0646\\u0647\\u0627:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"ul\");\n    i0.ɵɵtemplate(19, ResultComponent_div_0_li_19_Template, 2, 1, \"li\", 9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(20, \"h4\");\n    i0.ɵɵtext(21, \"\\uD83D\\uDE80 \\u0627\\u0644\\u0645\\u0647\\u0627\\u0631\\u0627\\u062A \\u0627\\u0644\\u062A\\u064A \\u062A\\u062D\\u062A\\u0627\\u062C \\u062A\\u0637\\u0648\\u064A\\u0631\\u0647\\u0627:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(22, \"ul\");\n    i0.ɵɵtemplate(23, ResultComponent_div_0_li_23_Template, 2, 1, \"li\", 9);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(24, \"div\", 10)(25, \"h4\");\n    i0.ɵɵtext(26, \"\\uD83C\\uDF93 \\u0627\\u0644\\u062F\\u0648\\u0631\\u0627\\u062A \\u0627\\u0644\\u0645\\u0642\\u062A\\u0631\\u062D\\u0629:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(27, \"ul\");\n    i0.ɵɵtemplate(28, ResultComponent_div_0_li_28_Template, 2, 1, \"li\", 9);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(29, \"button\", 11);\n    i0.ɵɵlistener(\"click\", function ResultComponent_div_0_Template_button_click_29_listener() {\n      i0.ɵɵrestoreView(_r10);\n      const ctx_r9 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r9.restart());\n    });\n    i0.ɵɵtext(30, \"\\uD83D\\uDD04 \\u0625\\u0639\\u0627\\u062F\\u0629 \\u0627\\u0644\\u062A\\u062C\\u0631\\u0628\\u0629\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(7);\n    i0.ɵɵtextInterpolate(ctx_r0.bestMatch == null ? null : ctx_r0.bestMatch.name);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\"\", ctx_r0.matchPercentage, \"%\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵstyleProp(\"width\", ctx_r0.matchPercentage, \"%\");\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.userSkills);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.missingSkills);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.bestMatch == null ? null : ctx_r0.bestMatch.recommendedCourses);\n  }\n}\nfunction ResultComponent_ng_template_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r12 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 12)(1, \"h3\");\n    i0.ɵɵtext(2, \"\\u0644\\u0645 \\u064A\\u062A\\u0645 \\u0627\\u0644\\u0639\\u062B\\u0648\\u0631 \\u0639\\u0644\\u0649 \\u0646\\u062A\\u064A\\u062C\\u0629\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"button\", 11);\n    i0.ɵɵlistener(\"click\", function ResultComponent_ng_template_1_Template_button_click_3_listener() {\n      i0.ɵɵrestoreView(_r12);\n      const ctx_r11 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r11.restart());\n    });\n    i0.ɵɵtext(4, \"\\u0627\\u0644\\u0639\\u0648\\u062F\\u0629 \\u0644\\u0644\\u0627\\u062E\\u062A\\u064A\\u0627\\u0631\");\n    i0.ɵɵelementEnd()();\n  }\n}\nexport let ResultComponent = /*#__PURE__*/(() => {\n  class ResultComponent {\n    constructor(router, dataService) {\n      this.router = router;\n      this.dataService = dataService;\n      this.userSkills = [];\n      this.bestMatch = null;\n      this.matchPercentage = 0;\n      this.missingSkills = [];\n      this.specializations = [];\n      const nav = this.router.getCurrentNavigation();\n      const state = nav?.extras?.state;\n      this.userSkills = state?.userSkills || [];\n    }\n    ngOnInit() {\n      this.specializations = this.dataService.getSpecializations();\n      if (this.userSkills.length > 0) {\n        this.calculateBestMatch();\n      }\n    }\n    calculateBestMatch() {\n      let bestMatchValue = 0;\n      let bestMatchSpec = null;\n      for (const spec of this.specializations) {\n        const matched = spec.requiredSkills.filter(s => this.userSkills.includes(s));\n        const matchPercent = matched.length / spec.requiredSkills.length * 100;\n        if (matchPercent > bestMatchValue) {\n          bestMatchValue = matchPercent;\n          bestMatchSpec = spec;\n        }\n      }\n      this.bestMatch = bestMatchSpec;\n      this.matchPercentage = Math.round(bestMatchValue);\n      if (this.bestMatch) {\n        this.missingSkills = this.bestMatch.requiredSkills.filter(s => !this.userSkills.includes(s));\n      }\n    }\n    restart() {\n      this.router.navigate(['/skills']);\n    }\n    static {\n      this.ɵfac = function ResultComponent_Factory(t) {\n        return new (t || ResultComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.DataService));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: ResultComponent,\n        selectors: [[\"app-result\"]],\n        decls: 3,\n        vars: 2,\n        consts: [[\"class\", \"result-container\", 4, \"ngIf\", \"ngIfElse\"], [\"noMatch\", \"\"], [1, \"result-container\"], [1, \"result-card\"], [1, \"highlight\"], [1, \"match\"], [1, \"progress-bar\"], [1, \"fill\"], [1, \"skills-info\"], [4, \"ngFor\", \"ngForOf\"], [1, \"courses\"], [3, \"click\"], [1, \"no-match\"]],\n        template: function ResultComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵtemplate(0, ResultComponent_div_0_Template, 31, 7, \"div\", 0);\n            i0.ɵɵtemplate(1, ResultComponent_ng_template_1_Template, 5, 0, \"ng-template\", null, 1, i0.ɵɵtemplateRefExtractor);\n          }\n          if (rf & 2) {\n            const _r1 = i0.ɵɵreference(2);\n            i0.ɵɵproperty(\"ngIf\", ctx.bestMatch)(\"ngIfElse\", _r1);\n          }\n        },\n        dependencies: [i3.NgForOf, i3.NgIf],\n        styles: [\".result-container[_ngcontent-%COMP%]{max-width:700px;margin:40px auto;background:#1e1e2f;color:#fff;padding:30px;border-radius:16px;text-align:center}.result-card[_ngcontent-%COMP%]   h2.highlight[_ngcontent-%COMP%]{color:#4cafef;margin-bottom:10px}.match[_ngcontent-%COMP%]{margin:20px 0}.progress-bar[_ngcontent-%COMP%]{height:15px;background:#333;border-radius:8px;overflow:hidden;margin-top:5px}.progress-bar[_ngcontent-%COMP%]   .fill[_ngcontent-%COMP%]{height:100%;background:#4caf50;transition:width .5s ease}.skills-info[_ngcontent-%COMP%], .courses[_ngcontent-%COMP%]{text-align:left;margin-top:20px}ul[_ngcontent-%COMP%]{list-style:none;padding:0}li[_ngcontent-%COMP%]{background:rgba(255,255,255,.1);margin:5px 0;padding:8px;border-radius:6px}button[_ngcontent-%COMP%]{background:#007bff;border:none;padding:10px 20px;border-radius:8px;color:#fff;margin-top:25px;cursor:pointer;transition:.2s}button[_ngcontent-%COMP%]:hover{background:#0056b3}.no-match[_ngcontent-%COMP%]{text-align:center;margin-top:100px;color:#fff}\"]\n      });\n    }\n  }\n  return ResultComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}